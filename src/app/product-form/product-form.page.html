<ion-header>
  <ion-toolbar olor="primary" >
    <ion-title>productForm</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content >
  <ion-item *ngFor="let item of items">
    <ion-thumbnail slot="start">
      <ion-img [src]="item.src"></ion-img>
    </ion-thumbnail>
    <ion-label>Appliquer une image</ion-label>
  </ion-item>
  <ion-button expand="block" color="primary" (click)="pickImage()"> Image </ion-button>
             <form #f="ngForm" (ngSubmit)="onSubmit(f.value)">
                <ion-item>
                    <ion-label position="floating">Title <ion-text color="danger">*</ion-text></ion-label>
                    <ion-input type="text" [(ngModel)]="product.title" name="title" #title="ngModel" required></ion-input>
                 </ion-item>
                  <ion-text color="danger" *ngIf="title.touched && title.invalid">Title is required</ion-text>
                  <ion-item>
                    <ion-label position="floating">Description</ion-label>
                    <ion-input type="text" [(ngModel)]="product.description" name="description" #description="ngModel"></ion-input>
                  </ion-item>
                  <ion-item>
                    <ion-label position="floating">Price <ion-text color="danger">*</ion-text></ion-label>
                    <ion-input type="number" [(ngModel)]="product.price" name="price" #price="ngModel" required [min]="0"></ion-input>
                  </ion-item>
                  <ion-text color="danger" *ngIf="price.touched && price.invalid">
                      <ion-text color="danger" *ngIf="price?.errors.required"> Price is required</ion-text>
                      <ion-text color="danger" *ngIf="price?.errors.min"> Price is Minimum 0 </ion-text>
                  </ion-text>
                    <ion-item>
                      <ion-label>Category <ion-text color="danger">*</ion-text></ion-label>
                      <ion-select placeholder="Select One" [(ngModel)]="product.cat" name="cat" #cat="ngModel" required>
                        <ion-select-option *ngFor="let cat of categoriesObs | async" [value]="cat.key" >{{cat.name}}</ion-select-option>
                      </ion-select>
                    </ion-item>
                    <ion-text color="danger" *ngIf="cat.touched && cat.invalid">Category is required</ion-text>
                    <ion-item>
                      <ion-label position="floating">Quantity <ion-text color="danger">*</ion-text></ion-label>
                      <ion-input type="number" [(ngModel)]="product.quantity" name="quantity"  #quantity="ngModel" required></ion-input>
                    </ion-item>
                    <ion-text color="danger" *ngIf="quantity.touched && quantity.invalid">Quantity is required</ion-text>
                    <ion-item>
                      <ion-label position="floating">Image Url <ion-text color="danger">*</ion-text></ion-label>
                      <ion-input type="text" [(ngModel)]="product.imgUrl" name="imgUrl" #imgUrl="ngModel" required></ion-input>
                    </ion-item>
                    <ion-text color="danger" *ngIf="imgUrl.touched && imgUrl.invalid">Image  is required</ion-text>
            
                    <ion-button expand="block" color="primary" type="submit"> Add </ion-button>
              
             </form>
          
</ion-content>
